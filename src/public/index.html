<!DOCTYPE html>
<html>
    <head>
        <title>Websocket</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
        integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
        integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
        crossorigin=""></script>
        <script type = "text/javascript" src="js/funciones.js"></script>
        
        
    </head>
    <body>
        <h1 style="margin-left: 45%; margin-top: 10px;">FLIGHTS</h1>

        <div class="row"  style="height: 500px;width: 50%; margin-left: 50px; margin-right: 50px;">
          <div id="map">
            <script>
              var map = L.map('map').setView([41.505, 5], 3);
              L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                  maxZoom: 19,
                  attribution: 'Â© OpenStreetMap'
              }).addTo(map);
            </script>
          </div>
        </div>
        <script type = "text/javascript">
          var ws = new WebSocket("wss://tarea-1.2022-2.tallerdeintegracion.cl/connect");
        connect(ws, map)
        </script>

        <div class="row">
          <div class="col">
            <h2 style="margin-top: 20px; margin-bottom:10px;margin-left: 50px;"> Flights Information Table</h2>
            <div class="table-wrapper-scroll-y my-custom-scrollbar" id="table" style="height: 500px;width: 50%; margin-left: 50px; margin-right: 50px; overflow: scroll;">
                <table class="table table-striped" id="flights">
                    <thead>
                      <tr>
                        <th scope="col">#id</th>
                        <th scope="col">Departure</th>
                        <th scope="col">Destination</th>
                        <th scope="col">Date</th>
                      </tr>
                    </thead>
                    
                    <tbody>
                    </tbody>
                  </table>
            </div>
          </div>

        </div>

        <div class="col" >
          <!-- editar aca para ponerlo al lado de otra cosa -->
          <div class="container py-5">
          <div class="row d-flex justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-4">
      
              <div class="card" id="chat1" style="border-radius: 15px;">
                <div
                  class="card-header d-flex justify-content-between align-items-center p-3 bg-info text-white border-bottom-0"
                  style="border-top-left-radius: 15px; border-top-right-radius: 15px;">
                  <i class="fas fa-angle-left"></i>
                  <p class="mb-0 fw-bold">Live chat</p>
                  <i class="fas fa-times"></i>
                </div>
                <div class="card-body" style="width: 413px ; height:400px; overflow: scroll;">
    
      
                  <table class="table table-borderless" id="chat">
                    <tbody>
                    
                    </tbody>
                  </table>
      
                  
      
                </div>
                <div class="form-outline" style="margin-bottom: 15px; margin-left: 5px;margin-right: 5px;">
                  <textarea class="form-control" id="mensaje" rows="4"></textarea>
                  <label class="form-label" for="mensaje">Type your message</label>
                  <button type="button" class="btn btn-info btn-rounded float-end" style="margin-top: 5px;" onclick="sendMessage(ws)">Send</button>
                </div>
              </div>
      
            </div>
          </div>
      
        </div>
       
        </div>


        
        
    </body>
</html>